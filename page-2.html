<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>FIND MICHAEL JACKSON!</title>
</head>
 
<body>
 
    <center>
      <a class="link" href="index.html">WHERE WAS MJ LAST SPOTTED? </a> 
      <h1 id="heading">FIND TRUE MICHAEL JACKSON</h1> 
      
  <img id="map" width=1280 height=720 
      src="MJ.png">    </center> 
    <p id="distance"></p>
 
    <script src="https://code.jquery.com/jquery-2.1.0.js"></script>
 
    <script>
// Получить случайное число от 0 до size-1
  var getRandomNumber = function (size) {
    return Math.floor(Math.random() * size);
  };
 
  // Вычислить расстояние от клика (event) до клада (target)
  var getDistance = function (event, target) {
    var diffX = event.offsetX - target.x;
    var diffY = event.offsetY - target.y;
    return Math.sqrt((diffX * diffX) + (diffY * diffY));
  };
 
  // Получить для расстояния строку подсказки
  var getDistanceHint = function (distance) {
 
    if (distance < 100) {
      return "CLOSE";
    } else if (distance < 200) {
      return "VERY CLOSE!";
    } else if (distance < 400) {
      return "ALMOST FOUND";
    } else if (distance < 800) {
      return "WRONG";
    } else if (distance < 1600) {
      return "DEFINITELY NOT MJ";
    } else {
      return "IT'S NOT HIM!";
    }
  };
 
  // Создаем переменные
  var width = 1280;
  var height = 720;
  var clicks = 0;
 
  // Случайная позиция клада
   var target = {
    x: getRandomNumber(width),
    y: getRandomNumber(height)
  };
  
  // Добавляем элементу img обработчик клика
 $("#map").click(function (event) {
    clicks++;
 
    // Получаем расстояние от места клика до клада
    var distance = getDistance(event, target);
    // Преобразуем расстояние в подсказку
    var distanceHint = getDistanceHint(distance);
    // Записываем в элемент #distance новую подсказку
    $("#distance").text(distanceHint);
    // Если клик был достаточно близко, поздравляем с победой
   if (distance < 80) {
      alert("CONGRATULATIONS! MICHAEL JACKSON WAS FOUND! YOU ARE TRUE DETECTIVE! Number of attempts: " + clicks);
    }
  });
    </script>
</body>
</html>